# Generated by apptask

# keep upto 7 rotated logs. rotation triggered daily or ahead of time if size is > 1M
<%= volumePath %>/*.log <%= volumePath %>/*/*.log <%= volumePath %>/*/*/*.log {
    rotate 7
    daily
    compress
    maxsize 1M
    missingok
    delaycompress
    copytruncate
}

/home/yellowtent/platformdata/logs/<%= appId %>/*.log {
    # only keep one rotated file, we currently do not send that over the api
    rotate 1
    size 10M
    missingok
    # we never compress so we can simply tail the files
    nocompress
    copytruncate
}

